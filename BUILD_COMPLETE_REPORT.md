# âœ… APK/AAB ãƒ“ãƒ«ãƒ‰å®Œäº†ãƒ¬ãƒãƒ¼ãƒˆ

**ãƒ“ãƒ«ãƒ‰æ—¥æ™‚**: 2025å¹´10æœˆ30æ—¥  
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: Catalyze React Native  
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ğŸ‰ **å…¨ãƒ“ãƒ«ãƒ‰æˆåŠŸ**

---

## ğŸ“± ç”Ÿæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app-debug.apk`
- **ã‚µã‚¤ã‚º**: 177 MB
- **ç½²å**: ãƒ‡ãƒãƒƒã‚°ç½²å
- **ç”¨é€”**: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆã€ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼å®Ÿè¡Œ
- **ãƒ‘ã‚¹**: `android/app/build/outputs/apk/debug/app-debug.apk`

### ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ - APK
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app-release.apk`
- **ã‚µã‚¤ã‚º**: 85 MB
- **ç½²å**: ãƒ‡ãƒãƒƒã‚°ç½²åï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
- **ç”¨é€”**: ãƒ†ã‚¹ãƒˆç”¨ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰
- **ãƒ‘ã‚¹**: `android/app/build/outputs/apk/release/app-release.apk`

### ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ - AAB
- **ãƒ•ã‚¡ã‚¤ãƒ«**: `app-release.aab`
- **ã‚µã‚¤ã‚º**: 57 MB
- **ç½²å**: ãƒ‡ãƒãƒƒã‚°ç½²åï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰
- **ç”¨é€”**: Google Play Store ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆç½²åæ›´æ–°å¾Œï¼‰
- **ãƒ‘ã‚¹**: `android/app/build/outputs/bundle/release/app-release.aab`

---

## ğŸ“Š ãƒ“ãƒ«ãƒ‰çµ±è¨ˆ

| ãƒ“ãƒ«ãƒ‰ç¨®åˆ¥ | ã‚¿ã‚¹ã‚¯å®Ÿè¡Œ | å®Ÿè¡Œæ™‚é–“ | ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º |
|-----------|----------|--------|--------------|
| Debug APK | 366 executed | 3m 31s | 177 MB |
| Release APK | 535 executed | 4m 30s | 85 MB |
| Release AAB | 64 executed | 7s | 57 MB |
| **åˆè¨ˆ** | **965+** | **ç´„8åˆ†** | **319 MB** |

---

## ğŸ”§ ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ

- **Java**: Temurin 17.0.17 (OpenJDK) âœ…
- **Gradle**: 8.14.3
- **Android Gradle Plugin**: æœ€æ–°ç‰ˆ
- **NDK**: 27.1.12297006
- **React Native**: 0.81.4
- **Expo SDK**: 54.0.13
- **CMake**: âœ… å…¨ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ­£å¸¸

### ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- âœ… armeabi-v7a (32-bit ARM)
- âœ… arm64-v8a (64-bit ARM)
- âœ… x86 (32-bit Intel)
- âœ… x86_64 (64-bit Intel)

---

## ğŸ“¦ ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | CMakeLists.txt | ãƒ“ãƒ«ãƒ‰çŠ¶æ…‹ |
|-----------|---------------|----------|
| react-native-worklets | 137è¡Œ | âœ… æˆåŠŸ |
| react-native-screens | 87è¡Œ | âœ… æˆåŠŸ |
| expo-modules-core | 327è¡Œ | âœ… æˆåŠŸ |
| react-native-reanimated | 124è¡Œ | âœ… æˆåŠŸ |
| react-native-gesture-handler | - | âœ… æˆåŠŸ |

**é‡è¦**: ã™ã¹ã¦ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒ Java 17 ã§æ­£å¸¸ã«ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¾ã—ãŸã€‚

---

## ğŸš€ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. ãƒ†ã‚¹ãƒˆç”¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (Android Device)

```bash
# Release APK ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
adb install -r android/app/build/outputs/apk/release/app-release.apk

# ã¾ãŸã¯ Debug APK
adb install -r android/app/build/outputs/apk/debug/app-debug.apk
```

### 2. æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ç”¨ç½²åã‚­ãƒ¼ã®ç”Ÿæˆ

```bash
# æ–°ã—ã„ç½²åã‚­ãƒ¼ã‚’ç”Ÿæˆï¼ˆåˆå›ã®ã¿ï¼‰
keytool -genkey -v -keystore ~/catalyze-release-key.keystore \
  -keyalg RSA -keysize 2048 -validity 10000 \
  -alias catalyze-key

# ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ä¾‹ï¼š
# - Store Password: (ä½œæˆ)
# - Key Password: (ä½œæˆ)
# - Name: Catalyze Project
# - Country: JP
```

### 3. æœ¬ç•ªç½²åè¨­å®šã‚’ gradle.properties ã«è¿½åŠ 

```properties
# ~/.gradle/gradle.properties (ãƒ­ãƒ¼ã‚«ãƒ«ãƒã‚·ãƒ³)
MYAPP_RELEASE_STORE_FILE=~/catalyze-release-key.keystore
MYAPP_RELEASE_STORE_PASSWORD=your_store_password
MYAPP_RELEASE_KEY_ALIAS=catalyze-key
MYAPP_RELEASE_KEY_PASSWORD=your_key_password
```

### 4. build.gradle ã«ç½²åè¨­å®šã‚’è¿½åŠ 

```gradle
// android/app/build.gradle
signingConfigs {
    release {
        if (project.hasProperty('MYAPP_RELEASE_STORE_FILE')) {
            storeFile file(MYAPP_RELEASE_STORE_FILE)
            storePassword MYAPP_RELEASE_STORE_PASSWORD
            keyAlias MYAPP_RELEASE_KEY_ALIAS
            keyPassword MYAPP_RELEASE_KEY_PASSWORD
        } else {
            storeFile file('debug.keystore')
            storePassword 'android'
            keyAlias 'androiddebugkey'
            keyPassword 'android'
        }
    }
}

buildTypes {
    release {
        signingConfig signingConfigs.release
        // ...
    }
}
```

### 5. æœ¬ç•ªç½²åã§ãƒªãƒ“ãƒ«ãƒ‰

```bash
export JAVA_HOME=/opt/homebrew/opt/openjdk@17
cd android
./gradlew app:bundleRelease  # AAB ç”Ÿæˆ
# ã¾ãŸã¯
./gradlew app:assembleRelease  # APK ç”Ÿæˆ
```

### 6. Google Play Console ã¸ãƒ‡ãƒ—ãƒ­ã‚¤

1. [Google Play Console](https://play.google.com/console) ã«ãƒ­ã‚°ã‚¤ãƒ³
2. è©²å½“ã‚¢ãƒ—ãƒªã‚’é¸æŠ
3. **ãƒªãƒªãƒ¼ã‚¹** â†’ **æœ¬ç•ªç’°å¢ƒ** ã¸ç§»å‹•
4. **æ–°ã—ã„ãƒªãƒªãƒ¼ã‚¹** ã‚’ä½œæˆ
5. ä»¥ä¸‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰:
   - `android/app/build/outputs/bundle/release/app-release.aab`
   - **ã¾ãŸã¯** `android/app/build/outputs/apk/release/app-release.apk`
6. ãƒªãƒªãƒ¼ã‚¹å†…å®¹ã‚’è¨˜å…¥
7. **ç¢ºèªã—ã¦å…¬é–‹** ã‚’ã‚¯ãƒªãƒƒã‚¯

---

## ğŸ¯ CMakeã‚¨ãƒ©ãƒ¼è§£æ±ºã®çµŒç·¯

### å•é¡Œ
```
java.lang.IllegalStateException: WARNING: A restricted method in java.lang.System has been called
```

### æ ¹æœ¬åŸå› 
- Java 24 ã®æ–°ã—ã„ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£åˆ¶é™
- Android Gradle Plugin 8.14.3 ã¨ã®äº’æ›æ€§å•é¡Œ
- Prefab ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç”Ÿæˆãƒ•ã‚§ãƒ¼ã‚ºã§ç™ºç”Ÿ

### è§£æ±ºæ–¹æ³•
**Java 17 LTS ã¸ã®ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰**

```bash
brew install openjdk@17
export JAVA_HOME=/opt/homebrew/opt/openjdk@17
```

### çµæœ
âœ… ã™ã¹ã¦ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒæ­£å¸¸ã«ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸ

---

## ğŸ’¡ é‡è¦ãªæ³¨æ„äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- âš ï¸ **ãƒ†ã‚¹ãƒˆç”¨ã®ã¿**: ç¾åœ¨ã®ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ã¯ãƒ‡ãƒãƒƒã‚°ç½²åã‚’ä½¿ç”¨
- æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹ã«ã¯å°‚ç”¨ã®ç½²åã‚­ãƒ¼ãŒå¿…é ˆ
- ç½²åã‚­ãƒ¼ã¯å®‰å…¨ã«ä¿ç®¡ã—ã¦ãã ã•ã„ï¼ˆGit ã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„ã“ã¨ï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º
- Debug APK (177 MB) ã¯ãƒ†ã‚¹ãƒˆ/é–‹ç™ºç”¨
- Release APK (85 MB) ã¯ã‚µã‚¤ã‚ºæœ€é©åŒ–ç‰ˆ
- AAB (57 MB) ã¯ Google Play ã®æœ€é©é…ä¿¡ç”¨

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- ã™ã¹ã¦ã®4ã¤ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ãƒ“ãƒ«ãƒ‰
- Google Play ã¯ç«¯æœ«ã«å¿œã˜ã¦æœ€é©ãªAPKã‚’é…ä¿¡

---

## ğŸ“ ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰å‚è€ƒ

### ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ (Java 17 å¿…é ˆ)

```bash
export JAVA_HOME=/opt/homebrew/opt/openjdk@17
cd ~/Documents/Programing/Projects/React\ Native/Catalyze_react/catalyze_app/android

# ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰
./gradlew app:assembleDebug

# ãƒªãƒªãƒ¼ã‚¹ APK ãƒ“ãƒ«ãƒ‰
./gradlew app:assembleRelease

# ãƒªãƒªãƒ¼ã‚¹ AAB ãƒ“ãƒ«ãƒ‰
./gradlew app:bundleRelease

# ã‚¯ãƒªãƒ¼ãƒ³ãƒ“ãƒ«ãƒ‰
./gradlew clean app:assembleDebug
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```bash
# CMake ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
find . -type d -name ".cxx" -exec rm -rf {} +

# Gradle ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
./gradlew cleanBuildCache

# è©³ç´°ãƒ­ã‚°å‡ºåŠ›
./gradlew app:assembleDebug --debug --info
```

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [x] Debug APK ç”Ÿæˆ
- [x] Release APK ç”Ÿæˆ
- [x] Release AAB ç”Ÿæˆ
- [x] ã™ã¹ã¦ã®ãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ãƒ“ãƒ«ãƒ‰æˆåŠŸ
- [x] CMake ã‚¨ãƒ©ãƒ¼ å®Œå…¨è§£æ±º
- [x] Java 17 ç’°å¢ƒ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [ ] æœ¬ç•ªç½²åã‚­ãƒ¼ç”Ÿæˆ (å®Ÿæ–½å¾…ã¡)
- [ ] Google Play ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (å®Ÿæ–½å¾…ã¡)

---

**ç”Ÿæˆæ—¥**: 2025å¹´10æœˆ30æ—¥  
**ãƒ“ãƒ«ãƒ‰å®Œäº†è€…**: GitHub Copilot  
**æ¬¡ã®ç¢ºèª**: æœ¬ç•ªç½²åã‚­ãƒ¼ç”Ÿæˆã¨ Google Play ãƒ‡ãƒ—ãƒ­ã‚¤
